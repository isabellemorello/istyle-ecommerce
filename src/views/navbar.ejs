<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>I-Style</title>
    <%# Collegamento al file styles.css %>
    <link rel="stylesheet" href="/css/styles.css" />
    <%# Import di Bootstrap per css %>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
    <%# Import di alcuni font presi da Google Fonts %>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Codystar&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Codystar&family=Shanti&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Hammersmith+One&family=Rubik:wght@300;800&display=swap");
    </style>
  </head>
  <body class="body">
    <%# ------------------------------ NAVBAR -------------------------- %>
    <header class="sticky-top">
      <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
        <div class="container-fluid">
          <div class="collapse navbar-collapse">
            <a class="navbar-brand" href="/">
              <%# in questo modo ogni volta che clicco su Istyle mi riporta alla
              homepage %>
              <h2 class="d-inline-block align-top" id="logo">
                <strong>I</strong>Style
              </h2>
            </a>
          </div>
          <div class="row dropdown" id="navbarNavDropdown">
            <div class="col right">
              <ul class="navbar-nav">
                <li class="nav-item dropdown mx-3">
                  <a
                    class="nav-link dropdown-toggle"
                    href="#"
                    id="navbarDropdown"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <%# Importiamo l'icona del profilo %>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="30"
                      height="30"
                      fill="white"
                      class="bi bi-person"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"
                      />
                    </svg>
                  </a>
                  <ul
                    class="dropdown-menu"
                    aria-labelledby="navbarDropdownMenuLink"
                  >
                    <%# Andiamo a verificare se l'utente Ã¨ loggato per
                    visualizzare in modo diverso la navbar %> <%
                    if(isUserLoggedIn) { %>
                    <li>
                      <a class="dropdown-item" href="/users/logout">
                        <button class="btn btn-md">Logout</button>
                      </a>
                    </li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                      <a class="dropdown-item" href="/users/me"
                        >Il mio profilo</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" href="/users/me/orders"
                        >I miei ordini</a
                      >
                    </li>
                    <% } else { %>
                    <li>
                      <a class="dropdown-item" href="/users/login">
                        <button class="btn btn-md">Accedi</button>
                      </a>
                    </li>
                    <li>
                      <a
                        class="dropdown-item"
                        id="registrati"
                        href="/users/signup"
                        >Registrati</a
                      >
                    </li>
                    <% } %>
                  </ul>
                </li>
                <li class="nav-item mt-2">
                  <a href="/cart">
                    <%# Importiamo l'icona della borsa riferita al carrello %>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="26"
                      height="26"
                      fill="white"
                      class="bi bi-bag"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"
                      />
                    </svg>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </header>
  </body>
</html>

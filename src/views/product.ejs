<%# Importiamo la navar %> <%- include("navbar") %> <%#
----------------------------MAIN------------------------------ %>

<main class="container mb-5">
  <div class="row mt-5">
    <div class="col-xl-6 col-lg-6 col-md-12 flex-column col-md-4 prodotto">
      <div
        class="d-flex flex-column align-items-center justify-content-center h-100"
      >
        <%# Visualizziamo l'immagine dell'articolo all'interno della pagina di
        ogni singolo prodotto %>
        <img
          src="<%=product.image%>"
          width="400px"
          class="mb-5"
          class="rounded prodotto"
        />
      </div>
    </div>
    <div class="col-xl-6 col-lg-6 col-md-12">
      <%# Visualizziamo il nome dell'articolo all'interno della pagina di ogni
      singolo prodotto %>
      <h3><%= product.name %></h3>
      <%# Visualizziamo il prezzo dell'articolo all'interno della pagina di ogni
      singolo prodotto %>
      <h5 class="mt-3">€ <%= product.price %></h5>
      <%# Visualizziamo il colore dell'articolo all'interno della pagina di ogni
      singolo prodotto %>
      <h6 class="colore">Colore: <%= product.color %></h6>
      <%# Form con metodo POST per aggiungere un prodotto al carrello (action:
      /cart): con il metodo post catturo le info che vanno al server dopo aver
      cliccato il bottone "aggiungi al carrello". Con il submit del bottone, noi
      prendiamo l'id dell'utente e del prodotto tramite request.body. %>
      <form action="/cart" method="post">
        <%# Visualizzare la scelta della taglia, se il prodotto possiede la
        taglia: Questi id fanno riferimento a prodotti che non posseggono alcuna
        taglia (occhiali da sole, borsa) %> <% if (product._id ==
        "601823e68de454df490ea8b8" || product._id == "601824308de454df490ea8b9")
        { %>
        <select id="hidden"></select>
        <%# Questi id fanno riferimento alle scarpe presenti nel db %> <% } else
        if (product._id == "6018224e8de454df490ea8b4" || product._id ==
        "6018235b8de454df490ea8b6") { %>
        <select
          class="form-select mt-5"
          aria-label="Default select example"
          id="taglia"
          name="size"
          required
        >
          <option value="" selected>Scegli il tuo numero</option>
          <option value="36">36</option>
          <option value="37">37</option>
          <option value="38">38</option>
          <option value="39">39</option>
          <option value="40">40</option>
          <option value="41">41</option>
        </select>
        <% } else { %> <%# Tutti i prodotti che hanno una taglia %>
        <select
          class="form-select mt-5"
          aria-label="Default select example"
          id="taglia"
          name="size"
          required
        >
          <option value="" selected>Scegli la tua taglia</option>
          <option value="XS">XS</option>
          <option value="S">S</option>
          <option value="M">M</option>
          <option value="L">L</option>
          <option value="XL">XL</option>
        </select>
        <% } %>
        <div>
          <%# Con questo input nascosto vado a prendere l'id del prodotto %>
          <input type="hidden" name="productId" value="<%=product._id%>" />
          <button class="btn mt-3" type="submit" id="aggiungi">
            Aggiungi al carrello
          </button>
        </div>
      </form>
      <div>
        <ul class="list-group mt-5">
          <li class="list-group-item">
            <strong>Materiale:</strong>
            <%# Visualizziamo il materiale dell'articolo all'interno della
            pagina di ogni singolo prodotto %>
            <p class="mt-2"><%= product.material %></p>
          </li>
          <li class="list-group-item">
            <strong>Dettagli:</strong>
            <%# Visualizziamo i dettagli dell'articolo all'interno della pagina
            di ogni singolo prodotto %>
            <p class="mt-2"><%= product.details %></p>
          </li>
        </ul>
        <div class="rounded-2 mt-5" id="consegna">
          <%# Visualizziamo l'icona del camion %>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="#f25c78"
            class="bi bi-truck"
            viewBox="0 0 16 16"
          >
            <path
              d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"
            />
          </svg>
          <p>Il tuo ordine arriverà in <strong>10 giorni</strong>.</p>
        </div>
      </div>
    </div>
  </div>
</main>

<%# ----------------------------FOOTER------------------------------ %> <%#
Importiamo il footer %> <%-include("footer") %>
